
        <head>
          <meta charset="UTF-8">
        </head>
        <style>
        * {
          font-family: "Times New Roman";
        }

        td, th {
          padding: 3px 7px 2px 7px;
        }

        th {
          font-size: 1.1em;
          text-align: left;
          padding-top: 5px;
          padding-bottom: 4px;
        }
        </style>
        <body><h1>ATS9870 Python sample programs</h1>

<p>ATS-SDK version 6.2.0</p>

<p>© 2003-2015 Alazar Technologies, Inc.</p>

<h2>Introduction</h2>

<p>This folder contains sample programs that demonstrate how to make the
various types of acquisitions supported by an AlazarTech
ATS9870 8-bit 1 GS/s digitizer board
with an 8-lane PCIe host bus interface. The sample
programs are part of the AlazarTech SDK, and are documented in the
“AlazarTech SDK Programmer’s Guide”.</p>

<h2>System requirements</h2>

<p>Python 2.7.8 and above, as well as 3.4.0 and above are supported for
running these sample programs. In addition to the standard Python
installation, the NumPy library is required. This sample code is
tested with NumPy 1.8.2.</p>

<p>The AlazarTech ATS9870 drivers version 5.7.7
of later are required to run the sample program. They can be
downloaded from <a href="http://www.alazartech.com/support/downloads.htm">our
website</a>.</p>

<p>ATS9870 has an 8-lane PCIe bus interface of
generation 1 capable of sustained data transfers
up to 1.6 GB/s. When the computer is booted, the motherboard
and digitizer board negociate the actual number of lanes and the PCIe
bus generation and, as a result, the maximum PCIe bus bandwidth. The
number of lanes or the generation may be limited by the motherboard
model, or by the BIOS version. The
<a href="../AlazarSysInfo/ReadMe.htm">AlazarSysInfo</a> sample demonstrates how
to determine the number of PCIe lanes available to the digitizer
board.</p>

<p>Many sample programs require a trigger input signal. Connect a 500
mVpp, 1kHz sine wave from a function generator to the CH A connector
of the digitizer board before running these programs. If a suitable
trigger signal is not supplied, an acquisition timeout internal will
expire before the board receives the number of trigger events required
to make the acquisition and, as a result, the acquisition will fail
with a timeout error.</p>

<h2>Getting started</h2>

<p>To get the most from an AlazarTech ATS9870 digitizer board, a
programmer should:</p>

<ol>
<li><p>Read the "ATS9870 User Guide". It provides an overview of
the digitizer board's hardware features, as well as it's
specifications.</p></li>
<li><p>Read the "AlazarTech SDK Programmer's Guide". It describes how to
program the digitizier hardware to make an acquisition, and to
transfer sample data into application buffers.</p></li>
</ol>

<h2>Single-port acquisitions</h2>

<p>A single-port acquisition allows a board to acquire to on-board memory
and, after the acquisition is complete, transfer sample data from
on-board memory to application buffers.</p>

<p>Single-port acquisitions should be used when:</p>

<ul>
<li><p>The application can tolerate missing trigger events while it
transfers data from on-board memory, and re-arms a board for
another acquisition.</p></li>
<li><p>The average data acquisition data rate that is greater than the
maximum PCIe bus transfer rate.</p></li>
</ul>

<p>Single-port acquisitions should not be used for imaging applications
such as: ultrasonic testing, OCT, RADAR, and LIDAR. These applications
should use Dual-port AutoDMA acquisitions described below.
Single-port samples</p>

<h2>Single-port samples</h2>

<p>The samples in the “SinglePort” directory demonstrate how to make
single-port acquisitions. Most programmers should begin with the
“SinglePort\AR” sample.</p>

<ul>
<li><a href=""../../Samples_Python/ATS9870/AR/ReadMe.htm"">ATS9870_AR.py</a> : This sample acquires records to on-board memory, and calls AlazarRead to transfer entire records from on-board memory to an application buffer. It demonstrates a basic single-port acquisition.</li>
</ul>

<h2>Dual-port AutoDMA acquisitions</h2>

<p>A dual-port AutoDMA acquisition allows a board to acquire to on-board
memory while, at the same time, transferring sample data from on-board
memory to application buffers.</p>

<p>AutoDMA acquisitions should be used when:</p>

<ul>
<li><p>The average data acquisition rate is less than the maximum PCIe bus
transfer rate.</p></li>
<li><p>An application cannot miss trigger events that occur while it
transfers data from host to memory, or re-arms a board for another
acquisition.</p></li>
<li><p>An application acquires more sample points or records per
acquisition than can be stored in on-board memory.</p></li>
</ul>

<p>Scanning applications such as ultrasonic testing, OCT, RADAR and LIDAR
imaging should use AutoDMA acquisitions.</p>

<p>The unit of digitization in the AutoDMA modes is called a <em>record</em>. An
acquisition consists of the digitization of one or more record(s).</p>

<p>The unit of data transfer between the acquisition board and the
computer's host memory is called a <em>DMA buffer</em>.</p>

<p>In the streaming AutoDMA acquisition modes, an acquisition consists of
the digitization of only one record that can contain an infinite
number of samples. This record is broken down in chucks to be
transferred in the form of DMA buffers.</p>

<p>In the non-streaming AutoDMA modes, an acquisition can involve the
digitization of an infinite number of records. Each DMA buffer used to
transfer data to host memory can contain one or more record. The
record length is limited by the maximum size of DMA buffers in this
mode (usually 64MB).</p>

<p>There are four AutoDMA acquisition modes:</p>

<table>
<thead>
<tr>
  <th>Mode</th>
  <th>Triggered</th>
  <th>Pre-trigger samples</th>
  <th>Record headers</th>
  <th>Streaming</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Traditional</td>
  <td>Yes</td>
  <td>Yes</td>
  <td>Optional</td>
  <td>No</td>
</tr>
<tr>
  <td>NPT</td>
  <td>Yes</td>
  <td>No</td>
  <td>No</td>
  <td>No</td>
</tr>
<tr>
  <td>Continuous Streaming</td>
  <td>No</td>
  <td>No</td>
  <td>No</td>
  <td>Yes</td>
</tr>
<tr>
  <td>Triggered Streaming</td>
  <td>Yes</td>
  <td>No</td>
  <td>No</td>
  <td>Yes</td>
</tr>
</tbody>
</table>

<p>In triggered modes, the digitization of a record is started by a
trigger event. The trigger event can be generated by an external
signal fed into the board, or by software.</p>

<p>Pre-trigger samples corresponds to the digitization of samples
preceding the trigger events.</p>

<p>Record headers are data structures added to the transferred data that
contain meta-data relative to the acquisition. Please refer to the
AlazarTech SDK Guide for more information.</p>

<h2>Dual-port samples</h2>

<p>The sample programs in the “DualPort” directory demonstrate how to
make dual-port AutoDMA acquisitions.</p>

<ul>
<li><p><a href="../../Samples_Python/ATS9870/TS/ReadMe.htm">ATS9870_TS.py</a> : This sample calls AlazarPostAsyncBuffer and AlazarWaitAsyncBufferComplete to acquire a single, gapless record per channel spanning several AutoDMA buffers. It demonstrates a basic AutoDMA acquisition.</p></li>
<li><p><a href="../../Samples_Python/ATS9870/NPT/ReadMe.htm">ATS9870_NPT.py</a> : This sample calls AlazarPostAsyncBuffer and AlazarWaitAsyncBufferComplete to acquire a multiple records per channel â€“ one per trigger event â€“ with one or more records per AutoDMA buffer. It demonstrates a basic AutoDMA acquisition.</p></li>
<li><p><a href="../../Samples_Python/ATS9870/TS_MasterSlave/ReadMe.htm">ATS9870_TS_MasterSlave.py</a> : This sample calls AlazarPostAsyncBuffer and AlazarWaitAsyncBufferComplete to acquire a single, gapless record per channel spanning several AutoDMA buffers. It demonstrates a basic AutoDMA acquisition.</p></li>
<li><p><a href="../../Samples_Python/ATS9870/NPT_MasterSlave/ReadMe.htm">ATS9870_NPT_MasterSlave.py</a> : Based on the NPT code sample, this adds code to acquire from a master-slave board system.</p></li>
<li><p><a href="../../Samples_Python/ATS9870/CS/ReadMe.htm">ATS9870_CS.py</a> : This sample calls AlazarPostAsyncBuffer and AlazarWaitAsyncBufferComplete to acquire a single record per channel spanning several AutoDMA buffers. It demonstrates how to make an AutoDMA acquisition.</p></li>
<li><p><a href="../../Samples_Python/ATS9870/TR_MasterSlave/ReadMe.htm">ATS9870_TR_MasterSlave.py</a> : Based on the traditional code sample, this adds code to acquire from a master-slave board system.</p></li>
<li><p><a href="../../Samples_Python/ATS9870/TR/ReadMe.htm">ATS9870_TR.py</a> : This sample calls AlazarPostAsyncBuffer and AlazarWaitAsyncBufferComplete to acquire a multiple records per channel â€“ one per trigger event â€“ with one or more records per AutoDMA buffer. It demonstrates a basic AutoDMA acquisition.</p></li>
<li><p><a href="../../Samples_Python/ATS9870/CS_MasterSlave/ReadMe.htm">ATS9870_CS_MasterSlave.py</a> : Based on the continuous streaming code sample, this adds code to acquire from a master-slave board system.</p></li>
</ul>

<h2>Utility samples</h2>

<p>The following sample programs demonstrate how to get informatin about
a board.</p>

<ul>
<li><a href="../AlazarSysInfo/ReadMe.htm">AlazarSysInfo</a> : This sample calls a
number of status and information API functions to display detailed
information about digitizer boards. This information includes:
sample size in bits, memory size in samples per channel, serial
number, and latest calibration date. It demonstrates how to obtain
a board handle, use the status and information API functions, and
control the LED on a board’s PCIe mounting bracket.</li>
</ul>

<h2>Contact us</h2>

<p>If you have any questions or comments, or need assistance, contact us.</p>

<ul>
<li>Web:    <a href="http://www.alazartech.com">www.alazartech.com</a></li>
<li>Email:  <a href="mailto:support@alazartech.com">support@alazartech.com</a></li>
<li>Phone:  514-426-4899</li>
<li>Fax:    514-426-2723</li>
<li>Mail:   Alazar Technologies Inc.
       6600 Trans-Canada Highway, Suite 310
       Pointe-Claire, QC
       Canada H9R 4S2</li>
</ul>
</body>